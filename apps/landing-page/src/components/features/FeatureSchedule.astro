---
import { cn } from "@repo/ui/lib/utils";
import { Card } from "@repo/ui/components/ui/card";
---

<div id="stage-schedule" class="feature-panel absolute inset-0 flex items-center justify-center opacity-0 translate-y-[50px]">
    <!-- 3D Perspective Grid Container -->
    <div class="relative w-full max-w-[800px] h-[600px] [perspective:1000px] md:scale-100 scale-[0.85] origin-center">
        <div class="grid grid-cols-2 md:grid-cols-3 gap-6 w-full h-full transform rotate-x-12 opacity-100 scale-90">
            <!-- Mock Calendar Cells -->
            {Array.from({ length: 9 }).map((_, i) => (
                <Card className={cn("schedule-grid-card rounded-xl dark:border-white/10 dark:bg-[#161618] p-6 flex flex-col justify-between transition-all duration-500 group hover:border-primary/50 opacity-0 shadow-lg will-change-transform", i >= 4 && "hidden md:flex")}>
                    <span class="text-muted-foreground text-sm opacity-50 font-mono">{9 + i}:00 AM</span>
                    <div class="space-y-2 opacity-30">
                        <div class="h-1.5 w-full bg-foreground/20 rounded-full"></div>
                        <div class="h-1.5 w-2/3 bg-foreground/20 rounded-full"></div>
                    </div>
                </Card>
            ))}
        </div>
         <!-- The "Card" that flies in -->
         <div id="schedule-card" class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-80 h-48 bg-card border border-border shadow-2xl rounded-2xl flex flex-col p-6 z-20 dark:bg-[#161618] dark:border-white/10 dark:shadow-[0_20px_50px_-12px_rgba(0,0,0,0.5)]">
              <div class="flex items-center gap-3 mb-4">
                  <div class="w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center text-primary dark:bg-primary/10">
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></svg>
                  </div>
                  <span class="text-card-foreground font-semibold tracking-tight">Scheduled for Tomorrow</span>
              </div>
              <div class="space-y-3 pl-11">
                  <div class="h-2 w-full bg-muted rounded-full"></div>
                  <div class="h-2 w-3/4 bg-muted rounded-full"></div>
              </div>
              <div class="mt-auto pl-11 flex gap-2">
                  <div class="h-5 px-2 bg-green-500/10 text-green-500 text-[10px] font-mono flex items-center justify-center rounded border border-green-500/20 uppercase tracking-wider">Active</div>
              </div>
         </div>
    </div>
    <div class="absolute bottom-24 left-0 right-0 text-center pointer-events-none">
      <h2 class="text-4xl md:text-6xl font-black tracking-tighter bg-clip-text text-transparent bg-gradient-to-b from-foreground to-foreground/40 drop-shadow-2xl">
          Schedule with Precision
      </h2>
  </div>
</div>
