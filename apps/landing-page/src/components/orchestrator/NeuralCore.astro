---
interface Props {
  class?: string;
}

const { class: className } = Astro.props;
---

<div class:list={["relative flex items-center justify-center", className]} id="neural-core">
  <!-- Interactive SVG Core -->
  <svg viewBox="0 0 200 200" class="w-48 h-48 md:w-64 md:h-64 filter drop-shadow-[0_0_30px_hsl(var(--primary)/0.5)]">
    <!-- Outer Ring -->
    <circle cx="100" cy="100" r="90" fill="none" stroke="hsl(var(--primary)/0.2)" stroke-width="1" stroke-dasharray="10 5" class="animate-spin-slow" />
    
    <!-- Hexagonal Inner Structure -->
    <path 
      d="M100 30 L160 65 L160 135 L100 170 L40 135 L40 65 Z" 
      fill="none" 
      stroke="hsl(var(--primary)/0.4)" 
      stroke-width="2" 
      class="neural-path"
    />
    
    <!-- Central Brain/Node -->
    <g class="core-node">
      <circle cx="100" cy="100" r="30" fill="hsl(var(--primary)/0.1)" stroke="hsl(var(--primary))" stroke-width="3" />
      <circle cx="100" cy="100" r="15" fill="hsl(var(--primary))" class="animate-pulse" />
      
      <!-- Connection Points -->
      <circle cx="100" cy="30" r="5" fill="hsl(var(--primary))" />
      <circle cx="160" cy="65" r="5" fill="hsl(var(--primary))" />
      <circle cx="160" cy="135" r="5" fill="hsl(var(--primary))" />
      <circle cx="100" cy="170" r="5" fill="hsl(var(--primary))" />
      <circle cx="40" cy="135" r="5" fill="hsl(var(--primary))" />
      <circle cx="40" cy="65" r="5" fill="hsl(var(--primary))" />
    </g>
    
    <!-- "Neural" Connections -->
    <g class="neural-threads opacity-30">
        <line x1="100" y1="30" x2="100" y2="100" stroke="hsl(var(--primary))" stroke-width="1" />
        <line x1="160" y1="65" x2="100" y2="100" stroke="hsl(var(--primary))" stroke-width="1" />
        <line x1="160" y1="135" x2="100" y2="100" stroke="hsl(var(--primary))" stroke-width="1" />
        <line x1="100" y1="170" x2="100" y2="100" stroke="hsl(var(--primary))" stroke-width="1" />
        <line x1="40" y1="135" x2="100" y2="100" stroke="hsl(var(--primary))" stroke-width="1" />
        <line x1="40" y1="65" x2="100" y2="100" stroke="hsl(var(--primary))" stroke-width="1" />
    </g>
  </svg>

  <!-- Glass Blur Background -->
  <div class="absolute inset-0 bg-primary/5 rounded-full blur-3xl -z-10 animate-pulse-slow"></div>
</div>

<style>
  @keyframes spin-slow {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }
  
  @keyframes pulse-slow {
    0%, 100% { transform: scale(1); opacity: 0.3; }
    50% { transform: scale(1.2); opacity: 0.6; }
  }

  .animate-spin-slow {
    animation: spin-slow 20s linear infinite;
    transform-origin: center;
  }
  
  .animate-pulse-slow {
    animation: pulse-slow 8s ease-in-out infinite;
  }

  .neural-path {
    stroke-dasharray: 400;
    stroke-dashoffset: 400;
    animation: draw 4s ease-in-out infinite alternate;
  }

  @keyframes draw {
    to { stroke-dashoffset: 0; }
  }
</style>
