---
import Layout from '../layouts/Layout.astro';
---

<Layout title="TweetBatch | Scale Your Twitter Presence">
	<main class="relative overflow-hidden">
		<!-- Dynamic Spotlight Background -->
		<div class="fixed inset-0 -z-10 bg-background">
			<!-- Grid Pattern -->
			<div class="absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:40px_40px] [mask-image:radial-gradient(ellipse_60%_50%_at_50%_0%,#000_70%,transparent_100%)]"></div>
			
			<!-- Mouse Spotlight (Controlled by GSAP) -->
			<div id="spotlight" class="pointer-events-none absolute -inset-px opacity-0 transition-opacity duration-300">
				<div class="h-full w-full bg-[radial-gradient(600px_circle_at_var(--mouse-x,50%)_var(--mouse-y,50%),rgba(255,255,255,0.06),transparent_40%)]"></div>
			</div>
		</div>

		<section class="flex min-h-screen flex-col items-center justify-center px-4 pt-20">
			<!-- Animated Badge with Glow -->
			<div id="hero-badge" class="mb-8 flex items-center gap-2 rounded-full border border-primary/20 bg-primary/5 px-4 py-1.5 text-xs font-medium text-primary backdrop-blur-sm shadow-[0_0_15px_-3px_rgba(var(--primary),0.3)]">
				<div class="h-1.5 w-1.5 animate-pulse rounded-full bg-primary shadow-[0_0_10px_2px_rgba(var(--primary),0.5)]"></div>
				Now in Public Beta
			</div>

			<!-- Split Text Headline (Prepared for Stagger) -->
			<h1 class="max-w-4xl text-center text-5xl font-bold leading-[1.1] tracking-tight md:text-7xl lg:text-8xl">
				<div class="overflow-hidden"><span class="hero-line block">The ultimate</span></div>
				<div class="overflow-hidden"><span class="hero-line block">bulk scheduler for</span></div>
				<div class="overflow-hidden">
					<span class="hero-line block bg-gradient-to-r from-primary via-orange-500 to-primary bg-[length:200%_auto] bg-clip-text text-transparent animate-gradient">
						Twitter power users.
					</span>
				</div>
			</h1>

			<p id="hero-desc" class="mt-8 max-w-2xl text-center text-lg text-muted-foreground md:text-xl opacity-0 translate-y-4">
				Schedule hundreds of tweets in minutes, not hours. <br class="hidden md:block" />Built for creators who value their time and impact.
			</p>
			
			<div id="hero-cta" class="mt-12 flex flex-col items-center gap-4 sm:flex-row opacity-0 translate-y-4">
				<button class="cta-button group relative flex h-12 items-center justify-center overflow-hidden rounded-full bg-primary px-8 font-medium text-primary-foreground">
					<span class="absolute inset-0 bg-white/20 translate-y-[100%] transition-transform duration-300 group-hover:translate-y-0"></span>
					<span class="relative z-10 flex items-center gap-2">
						Get Started for Free
						<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="transition-transform group-hover:translate-x-1"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
					</span>
				</button>
				<button class="cta-button h-12 rounded-full border border-border px-8 font-medium transition-colors hover:bg-accent hover:text-accent-foreground">
					View Demo
				</button>
			</div>

			<div id="hero-scroll" class="mt-20 flex flex-col items-center gap-4 opacity-0">
				<span class="text-[10px] uppercase tracking-[0.2em] text-muted-foreground">Scroll to explore</span>
				<div class="h-12 w-px overflow-hidden bg-border">
					<div id="scroll-indicator" class="h-full w-full bg-primary"></div>
				</div>
			</div>
		</section>

		<!-- Features Section Placeholder -->
		<section class="flex min-h-screen flex-col items-center justify-center p-8">
			<h2 class="text-4xl font-bold">Built for Impact</h2>
		</section>
	</main>
</Layout>

<script>
	import gsap from 'gsap';

	// --- 1. Spotlight Effect ---
	const spotlight = document.getElementById('spotlight');
	
	// Track mouse movement
	window.addEventListener('mousemove', (e) => {
		if (!spotlight) return;
		
		spotlight.style.opacity = '1';
		
		// Use CSS variables for high performance (no layout thrashing)
		spotlight.style.setProperty('--mouse-x', `${e.clientX}px`);
		spotlight.style.setProperty('--mouse-y', `${e.clientY}px`);
	});

	// --- 2. Advanced Entrance Sequence ---
	const tl = gsap.timeline({
		defaults: {
			ease: 'power4.out',
		}
	});

	// A. Badge Pop
	tl.from('#hero-badge', {
		scale: 0.5,
		opacity: 0,
		duration: 1,
		ease: 'elastic.out(1, 0.5)'
	});

	// B. Staggered Text Reveal (The "Mask" Effect)
	tl.from('.hero-line', {
		yPercent: 100, // Slides up from inside the overflow-hidden parent
		skewY: 7, // Adds a subtle "momentum" skew
		opacity: 0,
		duration: 1.2,
		stagger: 0.15,
	}, '-=0.5');

	// C. Description & Buttons Fade Up
	tl.to(['#hero-desc', '#hero-cta'], {
		y: 0,
		opacity: 1,
		duration: 1,
		stagger: 0.2
	}, '-=0.8');

	// D. Scroll Indicator
	tl.to('#hero-scroll', {
		opacity: 1,
		duration: 1
	}, '-=0.5');


	// --- 3. Interactive Magnetic Buttons (Bonus WOW) ---
	const buttons = document.querySelectorAll('.cta-button');
	
	buttons.forEach((btn) => {
		btn.addEventListener('mousemove', (e) => {
			const rect = (btn as HTMLElement).getBoundingClientRect();
			const x = e.clientX - rect.left - rect.width / 2;
			const y = e.clientY - rect.top - rect.height / 2;

			// Move button slightly towards mouse
			gsap.to(btn, {
				x: x * 0.2,
				y: y * 0.2,
				duration: 0.3,
				ease: 'power2.out'
			});
		});

		btn.addEventListener('mouseleave', () => {
			// Elastic snap back
			gsap.to(btn, {
				x: 0,
				y: 0,
				duration: 0.8,
				ease: 'elastic.out(1, 0.3)'
			});
		});
	});


	// Infinite loop for scroll indicator
	gsap.to('#scroll-indicator', {
		yPercent: 100,
		duration: 1.5,
		repeat: -1,
		ease: 'power1.inOut'
	});
</script>


